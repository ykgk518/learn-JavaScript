# Problem

## ディープコピーの書き方
## シンボルとは？

## レキシカル環境とは？

レキシカル環境とはなんであるか

JSではすべての実行中の関数やコードブロック、スクリプト全体は**レキシカル環境**と呼ばれる関連オブジェクトを持っている。

レキシカル環境オブジェクトは2つの部分から構成されている。（この辺が意味わからん）
* 環境レコード。プロパティとしてすべてのローカル変数をもつオブジェクトであること
* 外部のレキシカル環境への参照。通常、直近の外部のレキシカルなコードに関連付けられている。

これにより、変数は特別な内部オブジェクト、環境レコードのプロパティである。
変数を取得、変更するとは、そのオブジェクトのプロパティを取得または変更するということである。

→（自分の見解）変数や関数はオブジェクトとして扱われ、プロパティ（アトリビュート）を保持している。

レキシカル環境とは一体何であるかをつかむために、下記のコードにおいて、レキシカル環境が変わる様子を示す。

```JavaScript

let phrase;

phrase = "Hello";
phrase = "Bye";

```

1.スクリプト開始時、レキシカル環境は空
2.`let phrase`が定義された。初期値がないため、`undefined`が格納される
3.`phrase`が代入される
4.`phrase`が新しい値を参照する


**要約**(これがいまいちピンとこない）
変数は特別な内部オブジェクトのプロパティで、現在の実行ブロック/関数/スクリプトと関連付けられています。
変数を使った作業は、実際にはそのオブジェクトのプロパティを使って作業しています

**関数呼び出しの間、2つのレキシカル環境がある。**
内部と外部→ローカル変数とグローバル変数

### 自分のレキシカル環境に対するイメージ
レキシカル環境とは変数や関数が定義あるいは宣言され、格納されている場所そのもののことを指す。
変数にアクセスする時、最初に内部のレキシカル環境を探し、次に外部のレキシカル環境で検索する。


## コードブロックとループについてのレキシカル環境
レキシカル環境はコードブロックにも存在します。
コードブロックが実行され、ブロック内のローカル変数を含む時それらが作成されます。

### if

```JavaScript
let pharse = "こんにちは"

if (true) {
    let user = "太郎"

    alert(`$(phrase), $(user)`)
}

alert(user);// エラー can't see such variable!
```

実行がifブロックに来た時、Ifだけのレキシカル環境が作成されます。



